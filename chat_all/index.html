<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>チャット | 論文制作ページ</title>
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const version = Math.floor(Math.random() * 1000000) + 1;
  
      // CSSを読み込み
      const css = document.createElement("link");
      css.rel = "stylesheet";
      css.href = `style.css?v=${version}`;
      document.head.appendChild(css);
  
      // JSを読み込み（読み込み完了後に実行）
      const js = document.createElement("script");
      js.src = `main.js?v=${version}`;
      js.defer = true; // HTMLの読み込み後に実行
      document.body.appendChild(js);
  
      console.log("version:", version);
    });
  </script>


</head>
  
<body>
  <script>
    const debugBox = document.createElement("div");
    debugBox.style.cssText = "position:fixed;bottom:0;left:0;width:100%;background:#000;color:#0f0;font-family:monospace;max-height:150px;overflow:auto;z-index:9999;";
    document.body.appendChild(debugBox);

    console.log = (...args) => {
      const msg = document.createElement("div");
      msg.textContent = args.join(" ");
      debugBox.appendChild(msg);
    };

    console.log("デバッグモードON");
  </script> 
  
  <header>
    <h2><a href="../">《</a></h2><h1>チャット</h1>
  </header>

  <main id="chat-container">
    <!-- 各投稿はJSで生成 -->
  </main>

  <!-- 送信帯 -->
  <div class="chat-input-area">
    <button id="file-btn">📂</button>
    <textarea id="chat-input" placeholder="メッセージを入力..." rows="2"></textarea>
    <button id="send-btn">
      <img src="../imgs/chat/send.png" alt="送信">
    </button>
  </div>

</body>
</html>

