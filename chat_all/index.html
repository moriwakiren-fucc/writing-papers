<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>チャット | 論文制作ページ</title>

  <!-- CSS を乱数付きで読み込み（キャッシュ回避） -->
  <link id="chat-style" rel="stylesheet" href="">
  <script>
    const vStyle = Math.floor(Math.random() * 1000000);
    document.getElementById("chat-style").href = `style.css?v=${vStyle}`;
  </script>
</head>

<body>
  <!-- ヘッダー -->
  <header>
    <h2><a href="../">《</a></h2>
    <h1>チャット</h1>
  </header>

  <!-- チャット表示 -->
  <main id="chat-container" aria-live="polite"></main>

  <!-- 入力エリア -->
  <div class="chat-input-area" role="region" aria-label="メッセージ入力">
    <textarea
      id="chat-input"
      placeholder="メッセージを入力（Ctrl+Enterで送信、Enterで改行）"
      rows="2"
      aria-label="メッセージ入力"></textarea>
    <button id="send-btn" title="送信" aria-label="送信">
      <img src="../imgs/chat/send.png" alt="送信">
    </button>
  </div>

  <!-- main.js を確実に DOM 構築後に読み込む（乱数付き） -->
  <!--   <script type="module" src="main.js?v=<?php echo rand(0,999999); ?>"></script> -->
  <!-- 上で PHP が使えない環境なら、下のように固定または手動更新する -->
<script type="module" src="main.js?v=123456"></script>
</body>
</html>
